jQuery.easing.easeOutQuart=function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c};var nd_tl=nd_tl||{};!function(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,p={selectors:{container:".tl",dots:"a.dateDot",wrapper:".wrapper",tlcontainer:".timeline",tlitem:".timeline section",nav:".navigation",next:".buttons .next",prev:".buttons .prev"}};nd_tl=function(a){this.options=c.extend(!0,{},p,a),this._defaults=p,this.init(),this.attachEvents()},nd_tl.prototype.init=function(){this.timelineYo()},nd_tl.prototype.attachEvents=function(){var b=this;c(a).on("resize",{context:this},this.resizeTimeline),c(this.options.selectors.dots).on("click",{context:this},this.triggerDot),c(this.options.selectors.tlitem+" .date").on("click",{context:this},this.listenClick),c(this.options.selectors.tlitem).swipe({swipeLeft:function(a,d,e,f,g){c(b.options.selectors.tlcontainer).trigger("next")},swipeRight:function(a,d,e,f,g){c(b.options.selectors.tlcontainer).trigger("prev")}})},nd_tl.prototype.triggerDot=function(a){a.preventDefault();var b=a.data.context;n=c(b.options.selectors.dots+".active").parent().prevAll().length,c(b.options.selectors.tlitem+":eq("+n+")").trigger("click")},nd_tl.prototype.listenClick=function(a){a.preventDefault();var b=a.data.context;n=c(this).closest("section").index(),c(b.options.selectors.tlcontainer).trigger("goto",[n])},nd_tl.prototype.resizeTimeline=function(a){var b=a.data.context;b.timelineYo()},nd_tl.prototype.timelineYo=function(){e=c(a).width(),j=c(this.options.selectors.tlitem).outerWidth(!0),i=c(this.options.selectors.tlitem).width(),f=(e-j)/2,g=0-f,c(this.options.selectors.wrapper).css({"padding-left":f+"px"}).css({"padding-right":f+"px"}),h=c(this.options.selectors.tlitem).length,k=j*h,l=k+2*f,c(this.options.selectors.wrapper).css({width:l+"px"}),m=this.getNavWidth(),m>e?(this.centerActiveDot(),c(this.options.selectors.nav+" ul").css({width:m+"px"}),m=e):c(this.options.selectors.nav).css({width:m+"px"}),this.initSerialScroll()},nd_tl.prototype.getNavWidth=function(){return m=0,c(this.options.selectors.nav+" ul li:not(.ad)").each(function(){m+=c(this).outerWidth()}),m},nd_tl.prototype.centerNavigation=function(){var a=this.getNavWidth();a>e&&this.centerActiveDot()},nd_tl.prototype.centerActiveDot=function(){if(!c(this.options.selectors.dots+".active").closest("li").hasClass("ad")){var a=c(this.options.selectors.dots+".active").position().left+c(this.options.selectors.dots+".active").closest("li").outerWidth()/2,b=c(this.options.selectors.container).width()/2-a;c(this.options.selectors.nav+" ul").css({left:b+"px"})}},nd_tl.prototype.initSerialScroll=function(){var a=this,b=c(a.options.selectors.dots+".active").parent().prevAll().length;c(a.options.selectors.tlcontainer).serialScroll({items:"section",prev:a.options.selectors.prev,next:a.options.selectors.next,navigation:a.options.selectors.nav+" li a",offset:g,start:b,duration:500,force:!0,stop:!0,lock:!1,cycle:!1,easing:"easeOutQuart",jump:!1,onBefore:function(b,d){c(a.options.selectors.tlitem).removeClass("active"),c(d).addClass("active"),n=c(d).index(),c(a.options.selectors.prev).removeClass("hide"),c(a.options.selectors.next).removeClass("hide"),n+1==1&&c(a.options.selectors.prev).addClass("hide"),n+1==c(a.options.selectors.dots).length&&c(a.options.selectors.next).addClass("hide"),c(a.options.selectors.dots).removeClass("active"),c(a.options.selectors.dots+":eq("+n+")").addClass("active"),a.centerNavigation(),a.isElementInViewport(c(".advert:not(.tracked)"))&&(o.trackPageView(),c(c(".advert:not(.tracked)")[0]).addClass("tracked"))}})},nd_tl.prototype.isElementInViewport=function(c){if("object"==typeof c&&(c=c[0]),"undefined"==typeof c)return!1;var d=c.getBoundingClientRect();return d.bottom>0&&d.right>0&&d.left<(a.innerWidth||b.documentElement.clientWidth)&&d.top<(a.innerHeight||b.documentElement.clientHeight)}}(window,document,jQuery),ndTimeline=new nd_tl;